#ΠΕΖ2015 - Άσκηση 7

Σε πολλές εφαρμογές είναι χρήσιμη η χρήση ενός λεξικού με ορισμούς εννοιών
αλφαριθμητικών. Το λεξικό συνεπώς μπορεί να θεωρηθεί ότι είναι ενας πίνακας
δομών όπου σε κάθε θέση αποθηκεύεται το αλφαριθμητικό και ο ορισμός του.
Ορίστε συνεπώς μία δομή με το όνομα lexicon_entry και με μέλη δύο 
αλφαριθμητικά (λέξη και ορισμός της) και ένα πίνακα lexicon με Ν στοιχεία 
της δομής και υλοποιείστε μία συνάρτηση που γεμίζει τον πίνακα με στοιχεία.

Υλοποιήστε κυρίως πρόγραμμα το οποίο διαβάζει από ένα αρχείο με το όνομα 
input.txt μία συμβολοσειρά Α που θεωρούμε ότι μοντελοποιεί ένα κείμενο 
συνεπώς αποτελείται από μία ακολουθία λέξεων με κάθε λέξη να αποτελείται 
από συνεχόμενες εμφανίσεις αριθμητικών και αλφαβητικών χαρακτήρων, όλων 
του Αγγλικού αλφαβήτου. Υποθέτουμε ότι οι λέξεις οριοθετούνται με ένα ή 
περισσότερα κενά και ότι γίνεται διάκριση μεταξύ κεφαλαίων και πεζών γραμμάτων.

Το πρόγραμμα θα πρέπει να εντοπίζει τις λέξεις του Α που υπάρχουν στο λεξικό 
και να αντικαθιστά κάθε μία από αυτές με τον ορισμό της όπως διατυπώνεται 
στο λεξικό δημιουργώντας έτσι ένα νέο κείμενο Β. Το κείμενο Β θα πρέπει να 
αποθηκεύεται από τον χρήστη σε ένα αρχείο με το όνομα output.txt.

Υπόδειξη: Για την εύρεση των λέξεων που εμφανίζονται σε μία συμβολοσειρά
προτείνεται να χρησιμοποιηθεί η συνάρτηση char * strtok(char *s, char * ct)
της βιβλιοθήκης <string.h>. Για την σύγκριση αλφαριθμητικων προτεινεται η 
συνάρτηση int strcmp(cs, ct) της βιβλιοθήκης <string.h>.

----

# Πως να το κατεβάσετε:

> git clone https://github.com/georgemarselis/c_programming_project.git && cd c_programming_project; cd c_programming_project/exercise_7 && make clean && make;

# Επιλογές:
* -h | --help Help menu (φτωχό, δεν υπάρχουν και πολλά)

FUTURE REQUEST
* -r | --replace ολική αντικατάσταση της λέξης αντί για εισαγωγή παραπομπής

# Πως να το τρέξετε:

> ./dictionary

# Δείγματα αποτελέσματος

> [gmarselis@wintermute exercise_7 (master)]$ clear; ./dictionary

> The Project Gutenberg EBook of Heart of Darkness, by Joseph Conrad

> This eBook is for the use of anyone anywhere at no cost and with
> almost no restrictions whatsoever. You may copy it, give it away or
> re-use it under the terms of the Project Gutenberg License included
> with this eBook or online at www.gutenberg.org
>

#Yπόθεσεις:

Συμβολοσειρά Α: Η συμβολοσειρά της Αγγλικής αλφαβήτας και των αραβικών αριθμών (0 εώς 9 )
Κείμενο: Εισαγωγή του βιβλίου ["Heart of Darkness"](https://en.wikipedia.org/wiki/Heart_of_Darkness) 
του [Joseph Conrad](https://en.wikipedia.org/wiki/Joseph_Conrad), όπως έχει εκδοθεί από το 
[Project Gutenberg](http://www.gutenberg.org/): http://www.gutenberg.org/cache/epub/526/pg526.txt


# Λειτουργία:

Η ιδέα του προγράμματος είναι η πιστή αναπαράσταση του αρχικού κειμένου (input.txt) στο τελικό κείμενο (output.txt)s, μαζί με
παρατιθέμενες αριθμημένες παραπομπές κάθε λέξης προς αντικατάστασης/επεξήγηση στο τέλος του κειμένου.

Παράδειγμα: Έστω ότι το πρόγραμμα επεξεργάζεται τη πρόταση 

> Ουκ αν λάβεις παρά του μη έχοντος.

η λέξη "λάβεις" είναι μέσα στο λεξικό μας (dictionary.txt, βλέπε παρακάτω), ως "λάβεις|παίρνω, εντοπίζω επιθυμητό σήμα". Η τελική 
διαμόρφωση του αποθηκευμένου κειμένου θα είναι η εξής:

> Ουκ αν λάβεις\[1\] παρά του μη έχοντος.
>
> =====================
> \[1\] λάβεις: παίρνω, εντοπίζω επιθυμητό σήμα

Η παραππμπή είναι ποιό επιθημητή από την ολική αντικατάσταση, ή την παρενθετική απόδοση του νοήματος
μέσα στην πρόταση γιατί ο χρήστης μπορεί να διαβάζει το κείμενο ευκολότερα.

Το πρόγραμμα βασίζεται σε δύο αρχεία: 

* input.txt      : Το αρχείο για επεξεργασία
* dictionary.txt : Το αρχείο του λεξικού

Τα δύο αυτά αρχεία πρέπει να βρίσκονται στο ίδιο φάκελο με το εκτελέσιμο πρόγραμμα.

Η δομή του αρχείου input.txt είναι 
\<sentence\> ::= \[\[\<word\>\<space\>\]*\<newline\>\]*

Η δομή του αρχείου dictionary.txt είναι
\<dictionary_line\> ::= \<term\>|\<definition\>[\<newline\>]*

Το τελικό κείμενο (output.txt) αποθηκεύεται στο ίδιο φάκελο με τα δύο άλλα αρχεία ( input.txt, dictionary.txt )
και το εκτελεσιμο πρόγραμμά μας.

Η λειτουργία του προγράμματος χωρίζεται στα εξής μέρη:

1. Το εκτελέσιμο αρχείο διαβάζει το αρχείο dictionary.txt
2. Μετατρέπει το character stream του αρχείου σε οργανωμένη δομή σειράς (queue), στο οποίο, το reference είναι μηδενικό
3. Διαβάζει το αρχείο για επεξεργασία (input.txt)
4. Χρησιμοποιώντας την C standard library function strtok( ), σπάει το κείμενο σε λέξεις.
5. Αν η λέξη υπάρχει στο λεξικό, το πρόγραμμα εισάγει παράθεση για τη λέξη
6. Παράλληλα, αν αυτή είναι η πρώτη φορά που παρατίθεται η λέξη, το πρόγραμμα ανανεώνει τον αριθμό παράθεσης της λέξης στην ουρά ADT
6. Το πρόγραμμα αντιγράφει το αρχικό κείμενο σέ ένα προσωρινό χώρο επεξεργασίας
7. Η επεξεργασία αυτή συνεχίζεται μέχρι το τέλος του αρχείου για επεξεργασία (input.txt) 
8. Μετά το τέλος του αρχείου για επεξεργασία (input.txt) , παρατίθεται διαχωριστικό ("======================")
9. Έχοντας κρατήσει στη μνήμη τον αριθμό των παραθέσεων, το πρόγραμμα αναζητά την ανάλογη παράθεση στην ουρά ADT, αντιστοιχώντας τον αριθμού παράθεσης.
10. Αντιγράφονται στο αρχείο εξόδου (output.txt), οι παραθέσεις, αριθμητικά όπως και στο προηγούμενο παράδειγμα.
11. Τέλος, το πρόγραμμα εκκενώνει την ουρά ADT
12. Τέλος προγράμματος


# Ελλείψεις του προγράμματος

Το πρόγραμμα δεν μπορεί να επεξεργαστεί λέξεις που δεν ορίζονται από κενά, εκατέρωθεν, 
όπως μπορούμε να δούμε στην τελευταία γραμμή του κειμένου για επεξεργασία input.txt:

> every minute, as if angered by the approach of the sun.

Η λέξη "sun" υπάρχει στο λεξικό dictionary.txt: 

> sun|the luminous celestial body around which the earth and other planets revolve, from which they receive heat and light

Επειδή η λέξη δεν δηλώνεται σημειολογικά (EBNF) ως 

    \<λέξη\> ::= \<κενό\>\<συμβολοσειρά\>\<κενό\> 

αλλά ως 

    \<λέξη\> ::= \<κενό\>\<συμβολοσειρά\>. 

το πρόγραμμα δεν αντικαθιστά/παραθέτει επεξήγηση της λέξης.

**FUTURE FEATURE:**
Η σωστότερη δομή θα ήταν ένα heap, που θα αποθήκευε κάθε
πρόταση του κειμένου, θα επεξεργάζονταν κάθε λέξη και θα επανασύνδεε το
αρχικό κείμενο.

